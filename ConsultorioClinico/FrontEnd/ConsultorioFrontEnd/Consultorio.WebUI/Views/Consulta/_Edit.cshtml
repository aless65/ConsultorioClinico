@model Consultorio.WebUI.Models.ConsultaViewModel

<div class="row" id="edit">
    <h2>Editar registro</h2>
    <div class="d-flex justify-content-end">
        <a href="#" class="Cancel">Regresar al index</a>
    </div>
    <form asp-action="Edit" id="formEdit">
        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
        <input asp-for="cons_Id" id="cons_IdEdit" class="form-control" hidden />
        <div class="row">
            <div class="col-6">
                <div class="form-group">
                    <label asp-for="cons_Inicio" class="control-label"></label>
                    <input asp-for="cons_Inicio" id="cons_InicioEdit" class="form-control" />
                    <span asp-validation-for="cons_Inicio" id="lblinicioEdit" class="text-danger">Este campo es obligatorio</span>
                </div>
            </div>
            <div class="col-6">
                <div class="form-group">
                    <label asp-for="cons_Final" class="control-label"></label>
                    <input asp-for="cons_Final" id="cons_FinalEdit" class="form-control" />
                    <span asp-validation-for="cons_Final" id="lblfinalEdit" class="text-danger">Este campo es obligatorio</span>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-6">
                <div class="form-group">
                    <label asp-for="paci_Id" class="control-label"></label>
                    <input asp-for="paci_Id" id="cons_PaciEdit" class="form-control" />
                    <span asp-validation-for="paci_Id" id="lblpaciEdit" class="text-danger">Este campo es obligatorio</span>
                </div>
            </div>
            <div class="col-6">
                <div class="form-group">
                    <label asp-for="consltro_Id" class="control-label"></label>
                    <input asp-for="consltro_Id" id="cons_ConsltroEdit" class="form-control" />
                    <span asp-validation-for="consltro_Id" id="lblconsltroEdit" class="text-danger">Este campo es obligatorio</span>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-6">
                <div class="form-group">
                    <label asp-for="cons_Costo" class="control-label"></label>
                    <input asp-for="cons_Costo" id="cons_CostoEdit" class="form-control" />
                    <span asp-validation-for="cons_Costo" id="lblcostoEdit" class="text-danger">Este campo es obligatorio</span>
                </div>
            </div>
        </div>
        <div class="form-group">
            <input type="submit" id="enviarEdit" value="Editar" class="btn btn-primary" />
        </div>
    </form>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}

<script>
    $(document).ready(function () {

        $('.Editar').on('click', function () {
            $("#lblinicioEdit").prop('hidden', true);
            $("#lblfinalEdit").prop('hidden', true);
            $("#lblpaciEdit").prop('hidden', true);
            $("#lblconsltroEdit").prop('hidden', true);
            $("#lblcostoEdit").prop('hidden', true);

            var consId = $(this).data("id");
            var consInicio = $(this).data("inicio");
            var consFinal = $(this).data("final");
            var consPaci = $(this).data("paciente")
            var consConsltro = $(this).data("consultorio");
            var consCosto = $(this).data("costo");

            $("#cons_IdEdit").val(consId);
            $("#cons_InicioEdit").val(consInicio);
            $("#cons_FinalEdit").val(consFinal);
            $("#cons_PaciEdit").val(consPaci);
            $("#cons_ConsltroEdit").val(consConsltro);
            $("#cons_CostoEdit").val(consCosto);

            $("#edit").fadeIn('slow');
            $(".card-body").animate({ height: $("#edit").height() + 35 }, 500);
            $("#index").hide();

        });

        $('.EditarDetalle').on('click', function () {
            $("#lblinicioEdit").prop('hidden', true);
            $("#lblfinalEdit").prop('hidden', true);
            $("#lblpaciEdit").prop('hidden', true);
            $("#lblconsltroEdit").prop('hidden', true);
            $("#lblcostoEdit").prop('hidden', true);

            var consId = $(this).data("id");
            var consInicio = $(this).data("inicio");
            var consFinal = $(this).data("final");
            var consPaci = $(this).data("paciente")
            var consConsltro = $(this).data("consultorio");
            var consCosto = $(this).data("costo");

            $("#cons_IdEdit").val(consId);
            $("#cons_InicioEdit").val(consInicio);
            $("#cons_FinalEdit").val(consFinal);
            $("#cons_PaciEdit").val(consPaci);
            $("#cons_ConsltroEdit").val(consConsltro);
            $("#cons_CostoEdit").val(consCosto);

            $("#edit").fadeIn('slow');
            $(".card-body").animate({ height: $("#edit").height() + 35 }, 500);
            $("#details").hide();

        });

        $("#enviarEdit").click(function () {
            if (true) {
                if ($("#cons_InicioEdit").val() == "") {
                    $("#lblinicioEdit").prop('hidden', false);
                } else {
                    $("#lblinicioEdit").prop('hidden', true);
                }
                if ($("#cons_FinalEdit").val() == "") {
                    $("#lblfinalEdit").prop('hidden', false);
                } else {
                    $("#lblfinalEdit").prop('hidden', true);
                }
                if ($("#cons_PaciEdit").val() == "") {
                    $("#lblpaciEdit").prop('hidden', false);
                } else {
                    $("#lblpaciEdit").prop('hidden', true);
                }
                if ($("#cons_ConsltroEdit").val() == "") {
                    $("#lblconsltroEdit").prop('hidden', false);
                } else {
                    $("#lblconsltroEdit").prop('hidden', true);
                }
                if ($("#cons_CostoEdit").val() == "") {
                    $("#lblcostoEdit").prop('hidden', false);
                } else {
                    $("#lblcostoEdit").prop('hidden', true);
                }
            } else { 
                $("#formEdit").submit();
            }
        });
    });
</script>